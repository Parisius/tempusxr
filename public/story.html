<link rel="stylesheet" href="styles/zuck.min.css">
<link rel="stylesheet" href="styles/skins/snapgram.min.css">

<!-- <div id="stories" class=" storiesWrapper"></div> -->
<div id="stories">
  <!-- story -->
  <div class="story"  >
      <a class="item-link" href="#">
        <span class="item-preview">
          <img src=""/>
        </span>
        <span class="info" itemProp="author" itemScope="" itemType="http://schema.org/Person">
          <strong class="name" itemProp="name">Add a story</strong>
          <span class="time"></span>
        </span>
      </a>
      
      <ul class="items">
          <!-- story item -->
          <li data-id="{{storyItemId}}" data-time="{{storyItem.time}}" class="{{storyItem.seen}}">
              <a href="{{storyItem.src}}"
               data-type="{{storyItem.type}}" 
               data-length="{{storyItem.length}}" 
               data-link="{{storyItem.link}}" 
               data-linkText="{{storyItem.linkText}}" 
               
               data-custom-key="{{storyItem.custom-key}}" 
               data-another-custom-key="{{storyItem.another-custom-key}}">
                  <img src="{{storyItem.preview}}" />
              </a>
          </li>
          <!--/ story item -->
          
      </ul>
  </div>
  <!--/ story -->
  
</div>
<script>
  var currentSkin = getCurrentSkin();
  var storyData;
  fetch('data.json')
      .then(response => response.json())
      .then(data => {
          storyData = JSON.parse(JSON.stringify(data));
          // Do something with your data
          //console.log(storyData[0]["storiesList"][0].id, storyData[0]["storiesList"][0].type,);
          let timelineitems = [];
          for(let i=0; i<storyData.length; i++)
          {
              let story = Zuck.buildTimelineItem(//put it in a var like story=Zuck.buildTimelineItme()
                      storyData[i].id, //id - photo -name-link-lastUpdated-items(list stories)
                      storyData[i].avatar,
                      storyData[i].username,
                      storyData[i].link,
                      storyData[i].lastUpdated,
                      storyData[i].storiesList
                  );
              timelineitems.push(story);
          }

          let stories = new Zuck('stories', {
              backNative: true,
              previousTap: true,
              skin: currentSkin['name'],
              autoFullScreen: currentSkin['params']['autoFullScreen'],
              avatars: currentSkin['params']['avatars'],
              paginationArrows: currentSkin['params']['paginationArrows'],
              list: currentSkin['params']['list'],
              cubeEffect: currentSkin['params']['cubeEffect'],
              localStorage: true,
              stories:timelineitems,
              onDataUpdate (currentState, callback) {
                  callback(); // use to update state on your reactive framework
              }
          });
          stories.addItem("ramon", ["ladygaga-1", "photo", 5, "https://raw.githubusercontent.com/ramon82/assets/master/zuck.js/stories/6.jpg", "https://raw.githubusercontent.com/ramon82/assets/master/zuck.js/stories/6.jpg", '', false, false, timestamp()]);
      });
  
  
</script>
<script type="text/javascript" src="scripts/zuck.min.js"></script>
<script type="text/javascript" src="scripts/script.js"></script>